# é¡¹ç›®ä»‹ç»

æœ¬é¡¹ç›®å°†å®ç°ä¸€ä¸ªå…·å¤‡å®Œæ•´åŠŸèƒ½çš„ TodoList ç³»ç»Ÿï¼Œä¸»è¦åŠŸèƒ½æ¨¡å—åŒ…æ‹¬ï¼š

âœ… **ç”¨æˆ·è®¤è¯æ¨¡å—**

- ç”¨æˆ·æ³¨å†Œä¸ç™»å½•
- ç™»å‡ºåŠŸèƒ½
- ç”¨æˆ·ä¿¡æ¯æ›´æ–°
- å¤´åƒä¸Šä¼ 

âœ… **ä»»åŠ¡ç®¡ç†æ¨¡å—**

- ä»»åŠ¡çš„å¢åˆ æ”¹æŸ¥(CRUD)
- ä»»åŠ¡åˆ†ç±»ç®¡ç†
- çŠ¶æ€ä¸æˆªæ­¢æ—¶é—´ç®¡ç†

âœ… **å®‰å…¨æ§åˆ¶æ¨¡å—**

- JWT é‰´æƒæœºåˆ¶
- å…¨å±€å¼‚å¸¸å¤„ç†
- æ¥å£æƒé™æ§åˆ¶ï¼ˆç™»å½•/æœªç™»å½•çŠ¶æ€ï¼‰

ğŸ“¦ **æŠ€æœ¯æ ˆ**

- åç«¯ï¼šSpring Boot + Maven + MySQL
- å¯é€‰å‰ç«¯ï¼šReact, Vue
- æ¥å£æµ‹è¯•ï¼šApifox

> [!NOTE]
> **ä½œè€…å·²å®ç°éƒ¨åˆ†**
> - åŸºç¡€é¡¹ç›®æ¡†æ¶æ­å»º
> - å…¨å±€å¼‚å¸¸å¤„ç†æœºåˆ¶
> - DTO æ•°æ®ä¼ è¾“å¯¹è±¡è®¾è®¡
> - JWT é‰´æƒé…ç½®
> - å¸¸ç”¨å·¥å…·ç±»å°è£…
>
> **éœ€è¦å®ç°éƒ¨åˆ†**
> - æ•°æ®æŒä¹…å±‚ï¼ˆRepositoryï¼‰
> - ä¸šåŠ¡é€»è¾‘å±‚ï¼ˆServiceï¼‰
> - æ¥å£æ§åˆ¶å±‚ï¼ˆControllerï¼‰

---

# ç¯å¢ƒå‡†å¤‡

## 1. Maven æ¢æºé…ç½®

åˆ›å»ºé…ç½®æ–‡ä»¶ï¼ˆè·¯å¾„ï¼š`C:\Users\<ä½ çš„ç”¨æˆ·å>\.m2\settings.xml`ï¼‰ï¼š

```xml

<settings>
    <mirrors>
        <mirror>
            <id>aliyunmaven</id>
            <name>é˜¿é‡Œäº‘å…¬å…±ä»“åº“</name>
            <url>https://maven.aliyun.com/repository/public</url>
            <mirrorOf>central</mirrorOf>
        </mirror>
    </mirrors>
</settings>
```

æ‰§è¡Œä¾èµ–å®‰è£…ï¼š

```bash
mvn clean install -T 1C
```

## 2. JDK é…ç½®

![](./assets/image-20250422145405621.png)

![image-20250422145458973](./assets/image-20250422145458973.png)

![image-20250508110832882](./assets/image-20250508110832882.png)

è¦æ±‚ï¼š

- å¿…é¡»ä½¿ç”¨ JDK 21
- é…ç½®é¡¹ç›®SDKä¸º21ç‰ˆæœ¬

## 3. æ•°æ®åº“é…ç½®

1. åˆ›å»ºæ•°æ®åº“ï¼š

```sql
CREATE
DATABASE TodoList;
USE
TodoList;
```

2. ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼ˆapplication.ymlï¼‰ï¼š

![image-20250507202946145](./assets/image-20250507202946145.png)

```yaml
spring:
    datasource:
        url: jdbc:mysql://localhost:3306/TodoList
        username: root  # ä¿®æ”¹ä¸ºä½ çš„æ•°æ®åº“è´¦å·
        password: root  # ä¿®æ”¹ä¸ºä½ çš„æ•°æ®åº“å¯†ç 
```

3. æµ‹è¯•æ•°æ®åº“è¿æ¥ï¼š
   ![](./assets/image-20250422150309907.png)![image-20250422150339347](./assets/image-20250422150339347.png)

------

# æ¥å£æµ‹è¯•æŒ‡å—

## Apifox ä½¿ç”¨è¯´æ˜

1. ä¸‹è½½æµ‹è¯•å¥—ä»¶ï¼š
   ![](./assets/image-20250507195854443.png)
2. å¯¼å…¥æµ‹è¯•é…ç½®ï¼š
   ![](./assets/PixPin_2025-05-07_20-05-17.gif)
3. æ‰§è¡Œè‡ªåŠ¨åŒ–æµ‹è¯•ï¼š
   ![](./assets/image-20250507200810108.png)

âœ… æˆåŠŸæµ‹è¯•ç¤ºä¾‹ï¼š
![](./assets/image-20250507200901202.png)

------

# å¼€å‘æç¤º

1. ä½¿ç”¨ IDEA çš„ TODO åŠŸèƒ½å®šä½å¾…å®ç°ä»£ç ï¼š
   ![](./assets/image-20250507205434219.png)
2. å¯ç”¨è¢«æ³¨é‡Šçš„æ–¹æ³•ï¼ˆCtrl+/ï¼‰ï¼š
   ![](./assets/image-20250507205833967.png)
3. æ•°æ®åº“è¿é€šæ€§æ£€æŸ¥ï¼š
   ![](./assets/image-20250507201238700.png)
4. é…ç½®æ–‡ä»¶ä¿®æ”¹ç¤ºä¾‹(ä¿®æ”¹æˆä½ çš„mysqlçš„ç”¨æˆ·åå’Œå¯†ç ) ï¼š
   ![]( ./assets/image-20250507202851737.png)



é€šè¿‡ Swagger æµ‹è¯•æ³¨å†Œæ¥å£ï¼š

```url
http://localhost:8080/swagger-ui/index.html
```

![](./assets/image-20250422153319116.png)

-----------

# é¡¹ç›®è®¾è®¡

## é¡¹ç›®ç»“æ„

```
src/
â”œâ”€â”€ main/
â”‚   â”œâ”€â”€ java/
â”‚   â”‚   â””â”€â”€ com/
â”‚   â”‚       â””â”€â”€ todo_list/
â”‚   â”‚           â”œâ”€â”€ controller/    # REST API æ¥å£å±‚
â”‚   â”‚           â”œâ”€â”€ service/       # ä¸šåŠ¡é€»è¾‘å±‚
â”‚   â”‚           â”œâ”€â”€ repository/    # æ•°æ®è®¿é—®å±‚(DAO)
â”‚   â”‚           â”œâ”€â”€ model/         # JPA å®ä½“ç±»
â”‚   â”‚           â”œâ”€â”€ dto/           # æ•°æ®ä¼ è¾“å¯¹è±¡
â”‚   â”‚           â”œâ”€â”€ config/        # é…ç½®ç±»
â”‚   â”‚           â”œâ”€â”€ exception/     # å¼‚å¸¸å¤„ç†
â”‚   â”‚           â”œâ”€â”€ security/      # å®‰å…¨é…ç½®
â”‚   â”‚           â”œâ”€â”€ utils/         # å·¥å…·ç±»
â”‚   â”‚           â””â”€â”€ Application.java
â”‚   â”œâ”€â”€ resources/
â”‚   â”‚   â”œâ”€â”€ application.yml       # YAML é…ç½®æ–‡ä»¶
â”‚   â”‚   â””â”€â”€ db.migration/         # Flyway è¿ç§»è„šæœ¬
â””â”€â”€ test/                         # æµ‹è¯•ä»£ç 
```

## æ•°æ®æ¨¡å‹è®¾è®¡

### ğŸ‘¤ User ç”¨æˆ·æ¨¡å‹

| å­—æ®µ         | ç±»å‹     | è¯´æ˜        |
|------------|--------|-----------|
| username   | String | ç”¨æˆ·åï¼ˆå”¯ä¸€æ ‡è¯†ï¼‰ |
| password   | String | åŠ å¯†åçš„å¯†ç     |
| avatar_url | String | å¤´åƒå­˜å‚¨åœ°å€    |

### ğŸ“ Task ä»»åŠ¡æ¨¡å‹ï¼ˆå¤šå¯¹ä¸€å…³ç³»ï¼‰

| å­—æ®µ               | ç±»å‹      | è¯´æ˜     |
|------------------|---------|--------|
| task_name        | String  | ä»»åŠ¡åç§°   |
| task_description | String  | ä»»åŠ¡æè¿°   |
| deadline         | Long    | æˆªæ­¢æ—¶é—´æˆ³  |
| status           | Boolean | å®ŒæˆçŠ¶æ€   |
| todo_list_id     | Long    | æ‰€å±æ¸…å•ID |

### ğŸ“‚ TodoList ä»»åŠ¡æ¸…å•ï¼ˆä¸€å¯¹å¤šå…³ç³»ï¼‰

| å­—æ®µ       | ç±»å‹     | è¯´æ˜     |
|----------|--------|--------|
| category | String | æ¸…å•åˆ†ç±»   |
| user_id  | Long   | æ‰€å±ç”¨æˆ·ID |

------

## æ¥å£è§„èŒƒ

### ğŸ‘¤ ç”¨æˆ·ç›¸å…³æ¥å£

| ç«¯ç‚¹                  | æ–¹æ³•    | å‚æ•°                          | è¯´æ˜             |
|---------------------|-------|-----------------------------|----------------|
| `/user/register`    | POST  | username, password          | ç”¨æˆ·æ³¨å†Œ           |
| `/user/login`       | POST  | username, password          | ç”¨æˆ·ç™»å½•ï¼ˆè¿”å›Cookieï¼‰ |
| `/user/logout`      | GET   | -                           | ç”¨æˆ·ç™»å‡º           |
| `/user/{id}`        | PATCH | username/password/avatarUrl | æ›´æ–°ç”¨æˆ·ä¿¡æ¯         |
| `/user/upload/{id}` | POST  | å›¾ç‰‡æ–‡ä»¶                        | ä¸Šä¼ ç”¨æˆ·å¤´åƒ         |

### ğŸ“‚ ä»»åŠ¡æ¸…å•æ¥å£

| ç«¯ç‚¹                           | æ–¹æ³•     | å‚æ•°       | è¯´æ˜       |
|------------------------------|--------|----------|----------|
| `/list/{category}`           | PUT    | category | åˆ›å»ºæ–°ä»»åŠ¡æ¸…å•  |
| `/list/{id}`                 | DELETE | -        | åˆ é™¤æŒ‡å®šæ¸…å•   |
| `/list/change_category/{id}` | PATCH  | category | ä¿®æ”¹æ¸…å•åˆ†ç±»   |
| `/list/`                     | GET    | -        | è·å–æ‰€æœ‰æ¸…å•   |
| `/list/{id}`                 | GET    | -        | è·å–æŒ‡å®šæ¸…å•è¯¦æƒ… |

### ğŸ“ ä»»åŠ¡ç®¡ç†æ¥å£

| ç«¯ç‚¹           | æ–¹æ³•     | å‚æ•°                           | è¯´æ˜     |
|--------------|--------|------------------------------|--------|
| `/task/`     | POST   | category, name, status=false | åˆ›å»ºæ–°ä»»åŠ¡  |
| `/task/{id}` | GET    | -                            | è·å–ä»»åŠ¡è¯¦æƒ… |
| `/task/{id}` | DELETE | -                            | åˆ é™¤ä»»åŠ¡   |
| `/task/{id}` | PATCH  | ä»»æ„ä»»åŠ¡å­—æ®µ                       | æ›´æ–°ä»»åŠ¡ä¿¡æ¯ |

------

## å¼‚å¸¸å¤„ç†è§„èŒƒ

### ğŸ‘¤ ç”¨æˆ·ç›¸å…³å¼‚å¸¸

| å¼‚å¸¸æè¿°     | é”™è¯¯ç   | è§¦å‘åœºæ™¯             |
|----------|------|------------------|
| éæ³•ç”¨æˆ·å    | 1001 | ç”¨æˆ·åä¸ç¬¦åˆæ ¼å¼è§„èŒƒ       |
| ç”¨æˆ·åæˆ–å¯†ç é”™è¯¯ | 1002 | ç™»å½•éªŒè¯å¤±è´¥           |
| ç”¨æˆ·åå·²å­˜åœ¨   | 1003 | é‡å¤æ³¨å†Œ             |
| æœªç™»å½•è®¿é—®    | 1004 | æ— æœ‰æ•ˆCookieè®¿é—®å—ä¿æŠ¤æ¥å£ |
| ç”¨æˆ·ä¸å­˜åœ¨    | 1005 | æ›´æ–°ä¸å­˜åœ¨çš„ç”¨æˆ·ä¿¡æ¯       |

### ğŸ“ ä»»åŠ¡ç›¸å…³å¼‚å¸¸

| å¼‚å¸¸æè¿°   | é”™è¯¯ç   | è§¦å‘åœºæ™¯             |
|--------|------|------------------|
| éæ³•æ—¶é—´å‚æ•° | 2001 | è¶…è¿‡2038å¹´çš„æ—¶é—´æˆ³      |
| ä»»åŠ¡ä¸å­˜åœ¨  | 2002 | æ“ä½œä¸å­˜åœ¨ä»»åŠ¡          |
| è¿‡å»æ—¶é—´è®¾ç½® | 2003 | è®¾ç½®è¿‡å»æ—¶é—´ä¸ºæˆªæ­¢æ—¶é—´      |
| éæ³•çŠ¶æ€å‚æ•° | 2004 | æ–°å»ºä»»åŠ¡æ—¶status=true |

### ğŸ“‚ æ¸…å•ç›¸å…³å¼‚å¸¸

| å¼‚å¸¸æè¿°   | é”™è¯¯ç   | è§¦å‘åœºæ™¯      |
|--------|------|-----------|
| é‡å¤æ¸…å•åˆ†ç±» | 3001 | åˆ›å»ºé‡å¤åˆ†ç±»çš„æ¸…å• |
| æ¸…å•ä¸å­˜åœ¨  | 3002 | æ“ä½œä¸å­˜åœ¨æ¸…å•   |

> [!WARNING] æ³¨æ„
> æœªå¤„ç†çš„å¼‚å¸¸å°†è¿”å›500é”™è¯¯ï¼š
>
> ```json
>{
>"code": 500,
>"message": "ç³»ç»Ÿç¹å¿™ï¼Œè¯·ç¨åé‡è¯•"
> }
> ```
